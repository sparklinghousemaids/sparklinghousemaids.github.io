<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparkling Housemaids NYC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: ##1470af;
            --light-gray: #f3f4f6;
            --dark-gray: #4b5563;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: white;
            color: black;
            padding-top: 80px; /* Add padding to account for sticky header */
        }
        
        .primary-bg {
            background-color: var(--primary);
            color: white;
        }
        
        .summary-header {
            background-color: black;
            color: white;
        }
        
        .btn-service {
            transition: all 0.3s ease;
        }
        
        .btn-service.selected {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn-option {
            transition: all 0.2s ease;
        }
        
        .btn-option.selected {
            background-color: var(--light-gray);
            border-color: var(--primary);
            color: black;
        }
        
        .step-container {
            border-left: 3px solid var(--light-gray);
            padding-left: 20px;
            position: relative;
        }
        
        .step-container:before {
            content: "";
            position: absolute;
            left: -9px;
            top: 0;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: var(--primary);
        }
        
        input[type="range"] {
            -webkit-appearance: none;
            height: 8px;
            background: var(--light-gray);
            border-radius: 4px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
        }
        
        .addon-item {
            transition: all 0.2s ease;
        }
        
        .addon-item:hover {
            background-color: var(--light-gray);
        }
        
        .frequency-btn.selected {
            background-color: var(--primary);
            color: white;
        }
        
        /* Custom checkbox and radio styling */
        input[type="checkbox"], input[type="radio"] {
            -webkit-appearance: none;
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #d1d5db;
            outline: none;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
            margin-right: 0.5rem;
        }
        
        input[type="radio"] {
            border-radius: 50%;
        }
        
        input[type="checkbox"]:checked, input[type="radio"]:checked {
            background-color: #f098b6;
            border-color: #f098b6;
        }
        
        input[type="checkbox"]:checked::before {
            content: "âœ“";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        input[type="radio"]:checked::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            background-color: white;
        }
        
        /* Date picker styling */
        input[type="date"] {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            width: 100%;
            color: #111827;
            background-color: white;
            height: 3.125rem; /* Match height with select */
        }
        
        input[type="date"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(240, 152, 182, 0.2);
        }
        
        /* Select styling */
        select {
            padding: 0.75rem;
            padding-left: 1.5rem; /* Increased left padding */
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            width: 100%;
            color: #111827;
            background-color: white;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1rem;
            height: 3.125rem; /* Standardize height */
        }
        
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(240, 152, 182, 0.2);
        }
        
        /* Address autocomplete dropdown */
        .autocomplete-items {
            position: absolute;
            border: 1px solid #d1d5db;
            border-top: none;
            z-index: 99;
            top: 100%;
            left: 0;
            right: 0;
            border-radius: 0 0 0.5rem 0.5rem;
            background-color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-height: 200px;
            overflow-y: auto;
        }
        
        .autocomplete-items div {
            padding: 10px;
            cursor: pointer;
        }
        
        .autocomplete-items div:hover {
            background-color: var(--light-gray);
        }
        
        .autocomplete-active {
            background-color: var(--primary) !important;
            color: white;
        }
        
        /* Make all add-on items the same height */
        .addon-item {
            height: 60px; /* Fixed height for all add-on items */
            display: flex;
            align-items: center;
        }
        
        /* Sticky header */
        .sticky-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="min-h-screen">
    <header class="primary-bg py-6 px-4 shadow-md sticky-header">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl md:text-3xl font-bold flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                </svg>
                Sparkling Housemaids NYC
            </h1>
            <div class="text-lg font-medium">Our Highly Requested Instant Quote Calculator</div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 max-w-5xl">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-8">
                <!-- Step 1: Service Type -->
                <div class="step-container pb-8">
                    <h2 class="text-xl font-bold mb-4">Step 1: Service Type</h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <button id="residential" class="btn-service selected p-4 rounded-lg border border-gray-200 flex flex-col items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                            </svg>
                            <span>Residential</span>
                        </button>
                    </div>

                    <div id="residential-options" class="mt-6">
                        <h3 class="text-lg font-medium mb-3">Property Type</h3>
                        <div class="flex space-x-4">
                            <button id="apartment" class="btn-option selected px-4 py-2 rounded-lg border border-gray-200">Apartment/Condo</button>
                            <button id="house" class="btn-option px-4 py-2 rounded-lg border border-gray-200">Single-Family Home</button>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Service Details -->
                <div class="step-container pb-8">
                    <h2 class="text-xl font-bold mb-4">Step 2: Service Details</h2>
                    
                    <!-- Apartment Options -->
                    <div id="apartment-details" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-lg font-medium mb-2">Bedrooms: <span id="bedroom-value">1</span></label>
                                <input type="range" id="bedrooms" min="0" max="4" step="1" value="1" class="w-full">
                                <div class="flex justify-between text-sm text-gray-500 mt-1">
                                    <span>Studio</span>
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-lg font-medium mb-2">Bathrooms: <span id="bathroom-value">1</span></label>
                                <input type="range" id="bathrooms" min="1" max="4.5" step="0.5" value="1" class="w-full">
                                <div class="flex justify-between text-sm text-gray-500 mt-1">
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                    <span>4.5</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- House Options -->
                    <div id="house-details" class="space-y-6 hidden">
                        <div>
                            <label class="block text-lg font-medium mb-2">Square Footage: <span id="sqft-value">2000</span></label>
                            <input type="range" id="square-footage" min="1750" max="6000" step="50" value="2000" class="w-full">
                            <div class="flex justify-between text-sm text-gray-500 mt-1">
                                <span>1750</span>
                                <span>3000</span>
                                <span>4500</span>
                                <span>6000</span>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-lg font-medium mb-2">Bedrooms: <span id="house-bedroom-value">3</span></label>
                                <input type="range" id="house-bedrooms" min="1" max="6" step="1" value="3" class="w-full">
                                <div class="flex justify-between text-sm text-gray-500 mt-1">
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                    <span>5</span>
                                    <span>6</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-lg font-medium mb-2">Bathrooms: <span id="house-bathroom-value">2</span></label>
                                <input type="range" id="house-bathrooms" min="1" max="5.5" step="0.5" value="2" class="w-full">
                                <div class="flex justify-between text-sm text-gray-500 mt-1">
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                    <span>5</span>
                                    <span>5.5</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Short-Term Rental -->
                    <div id="short-term-details" class="space-y-4 hidden">
                        <p class="text-gray-700">Describe the cleaning needs and frequency you need for your Airbnb, VRBO, or other short-term rental. We are happy to collaborate with you on a custom quote to make it possible to send help to clean and reset your space.</p>
                        <textarea id="short-term-description" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Describe your short-term rental cleaning needs..."></textarea>
                    </div>
                    
                    <!-- Post-Construction -->
                    <div id="post-construction-details" class="space-y-4 hidden">
                        <p class="text-gray-700">For post-construction, renovation, or painting clean-up, please specify how many hours of service you need at 90 per hour.</p>
                        <div class="flex items-center">
                            <input type="number" id="post-construction-hours" min="1" value="4" class="w-24 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300">
                            <span class="ml-2">hours at 90/hour</span>
                        </div>
                        <p class="text-lg font-medium">Total: <span id="post-construction-total">360</span></p>
                    </div>
                    
                    <!-- Commercial -->
                    <div id="commercial-details" class="space-y-4 hidden">
                        <p class="text-gray-700">For commercial cleanup, please specify how many hours of service you need at 80 per hour.</p>
                        <div class="flex items-center">
                            <input type="number" id="commercial-hours" min="1" value="4" class="w-24 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300">
                            <span class="ml-2">hours at 80/hour</span>
                        </div>
                        <p class="text-lg font-medium">Total: <span id="commercial-total">320</span></p>
                    </div>

                    <!-- Add-ons for Residential -->
                    <div id="addons-section" class="mt-8">
                        <h3 class="text-lg font-medium mb-3">Optional Add-Ons</h3>
                        
                        <div class="mb-4">
                            <label class="inline-flex items-center">
                                <input type="checkbox" id="move-out-clean" class="h-5 w-5 text-pink-500">
                                <span class="ml-2 font-medium">Move-Out Clean?</span>
                                <span class="ml-2 text-sm text-gray-500">(Automatically selects recommended add-ons)</span>
                            </label>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Left Column -->
                            <div class="space-y-4">
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-balcony" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-balcony" class="ml-2 flex-grow">Balcony Cleaning (60)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-baseboards" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-baseboards" class="ml-2 flex-grow">Baseboards (60)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-blinds" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-blinds" class="ml-2 flex-grow">Blinds (50 per blind)</label>
                                    <div class="flex items-center">
                                        <input type="number" id="addon-blinds-qty" min="0" value="0" class="w-12 p-1 border border-gray-300 rounded">
                                    </div>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-empty-cabinets" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-empty-cabinets" class="ml-2 flex-grow">Cabinets + Drawers (Empty - 75)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-occupied-cabinets" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-occupied-cabinets" class="ml-2 flex-grow">Cabinets + Drawers (Occupied - 125)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-closets" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-closets" class="ml-2 flex-grow">Inside Closets (50 per closet)</label>
                                    <div class="flex items-center">
                                        <input type="number" id="addon-closets-qty" min="0" value="0" class="w-12 p-1 border border-gray-300 rounded">
                                    </div>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-dishes" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-dishes" class="ml-2 flex-grow">Dishes (60)</label>
                                </div>
                            </div>
                            
                            <!-- Right Column -->
                            <div class="space-y-4">
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-doors" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-doors" class="ml-2 flex-grow">Doors, Frames, Knobs (60)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-empty-fridge" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-empty-fridge" class="ml-2 flex-grow">Fridge (Empty - 60)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-occupied-fridge" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-occupied-fridge" class="ml-2 flex-grow">Fridge (Occupied - 100)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-garage" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-garage" class="ml-2 flex-grow">Garage Cleaning (250)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-heavy-duty" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-heavy-duty" class="ml-2 flex-grow">Heavy Duty (150)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-oven" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-oven" class="ml-2 flex-grow">Inside Oven (60)</label>
                                </div>
                                <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                    <input type="checkbox" id="addon-patio" class="addon-checkbox h-5 w-5 text-pink-500">
                                    <label for="addon-patio" class="ml-2 flex-grow">Patio Cleaning (200)</label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Additional add-ons that didn't fit in the columns -->
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                <input type="checkbox" id="addon-pet-hair" class="addon-checkbox h-5 w-5 text-pink-500">
                                <label for="addon-pet-hair" class="ml-2 flex-grow">Pet Hair Removal (50)</label>
                            </div>
                            <div class="addon-item p-3 border border-gray-200 rounded-lg flex items-center">
                                <input type="checkbox" id="addon-walls" class="addon-checkbox h-5 w-5 text-pink-500">
                                <label for="addon-walls" class="ml-2 flex-grow">Walls (50 per wall)</label>
                                <div class="flex items-center">
                                    <input type="number" id="addon-walls-qty" min="0" value="0" class="w-12 p-1 border border-gray-300 rounded">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Cleaning Frequency -->
                    <div id="frequency-section" class="mt-8">
                        <h3 class="text-lg font-medium mb-3">Cleaning Frequency</h3>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                            <button id="once-deep" class="frequency-btn selected px-3 py-2 rounded-lg border border-gray-200 text-sm" data-value="once-deep" data-modifier="75" data-house-modifier="100">Once (Deep Clean) +75</button>
                            <button class="frequency-btn px-3 py-2 rounded-lg border border-gray-200 text-sm" data-value="once-light" data-modifier="0">Once (Light Clean)</button>
                            <button class="frequency-btn px-3 py-2 rounded-lg border border-gray-200 text-sm" data-value="weekly" data-modifier="-0.15">Weekly (15% off)</button>
                            <button class="frequency-btn px-3 py-2 rounded-lg border border-gray-200 text-sm" data-value="biweekly" data-modifier="-0.1">Every 2 weeks (10% off)</button>
                            <button class="frequency-btn px-3 py-2 rounded-lg border border-gray-200 text-sm" data-value="triweekly" data-modifier="-0.07">Every 3 weeks (7% off)</button>
                            <button class="frequency-btn px-3 py-2 rounded-lg border border-gray-200 text-sm" data-value="monthly" data-modifier="-0.05">Every 4 weeks (5% off)</button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Contact Information -->
                <div class="step-container">
                    <h2 class="text-xl font-bold mb-4">Step 3: Contact Information</h2>
                    <form id="contact-form" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="full-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                                <input type="text" id="full-name" name="full-name" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300">
                            </div>
                            <div>
                                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                                <input type="tel" id="phone" name="phone" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300">
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="email" name="email" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300">
                        </div>
                        <div class="relative">
                            <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Service Address</label>
                            <input type="text" id="address" name="address" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Indicate the unit #, if any">
                            <div id="address-autocomplete" class="autocomplete-items hidden"></div>
                        </div>
                        <div>
                            <label for="parking" class="block text-sm font-medium text-gray-700 mb-1">Parking Instructions</label>
                            <input type="text" id="parking" name="parking" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Indicate if there is free parking, paid parking, or guest parking">
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="service-date" class="block text-sm font-medium text-gray-700 mb-1">Preferred Service Date</label>
                                <input type="date" id="service-date" name="service-date" required class="w-full">
                            </div>
                            <div>
                                <label for="arrival-window" class="block text-sm font-medium text-gray-700 mb-1">Preferred Arrival Window</label>
                                <select id="arrival-window" name="arrival-window" required class="w-full pl-4">
                                    <option value="" selected>Select preferred arrival window</option>
                                    <option value="8-9am">8-9am</option>
                                    <option value="11-12pm">11-12pm</option>
                                    <option value="2-3pm">2-3pm</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Preferred Payment Method</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="payment" value="Cash" checked class="h-4 w-4 text-pink-500">
                                    <span class="ml-2">Cash</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="payment" value="Venmo" class="h-4 w-4 text-pink-500">
                                    <span class="ml-2">Venmo</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="payment" value="Zelle" class="h-4 w-4 text-pink-500">
                                    <span class="ml-2">Zelle</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <label for="comments" class="block text-sm font-medium text-gray-700 mb-1">Additional Comments?</label>
                            <textarea id="comments" name="comments" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300"></textarea>
                        </div>
                        <div class="pt-4">
                            <button type="submit" class="primary-bg px-6 py-3 rounded-lg font-medium shadow-md hover:shadow-lg transition-all">
                                Proceed to Email Booking Request
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Quote Summary -->
            <div class="lg:col-span-1">
                <div class="sticky top-24"> <!-- Adjusted top position to account for sticky header -->
                    <div class="summary-header rounded-t-lg p-4">
                        <h2 class="text-xl font-bold">Quote Summary</h2>
                    </div>
                    <div class="bg-white border border-gray-200 rounded-b-lg p-4 shadow-md">
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span>Service Type:</span>
                                <span id="summary-service-type" class="font-medium">Residential - Apartment/Condo</span>
                            </div>
                            <div id="summary-details" class="flex justify-between">
                                <span>Details:</span>
                                <span class="font-medium">1 bedroom, 1 bathroom</span>
                            </div>
                            <div id="summary-frequency" class="flex justify-between">
                                <span>Frequency:</span>
                                <span class="font-medium">Once (Deep Clean)</span>
                            </div>
                            <div id="summary-addons-section" class="border-t border-gray-200 pt-3 mt-3">
                                <h3 class="font-medium mb-2">Add-Ons:</h3>
                                <ul id="summary-addons" class="text-sm space-y-1">
                                    <li class="text-gray-500 italic">No add-ons selected</li>
                                </ul>
                            </div>
                            <div class="border-t border-gray-200 pt-3 mt-3">
                                <div class="flex justify-between text-lg">
                                    <span class="font-medium">Base Price:</span>
                                    <span id="summary-base-price" class="font-medium">170.00</span>
                                </div>
                                <div id="summary-addons-price" class="flex justify-between text-sm text-gray-700">
                                    <span>Add-Ons:</span>
                                    <span>0.00</span>
                                </div>
                                <div id="summary-subtotal" class="flex justify-between text-lg font-medium mt-2 pt-2 border-t border-gray-200">
                                    <span>Subtotal:</span>
                                    <span>170.00</span>
                                </div>
                                <div id="summary-frequency-adjustment" class="flex justify-between text-sm text-gray-700 mt-2">
                                    <span>Deep Cleaning:</span>
                                    <span>+75.00</span>
                                </div>
                                <div class="flex justify-between text-xl font-bold mt-3 pt-3 border-t border-gray-200">
                                    <span>Total:</span>
                                    <span id="summary-total">245.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center text-sm text-gray-500 mt-8">
            <p>&copy; Sparkling Housemaids NYC. All rights reserved.</p>
            <p>Note final pricing may vary based on home condition.</p>
        </div>
    </main>

    <script>
        // Apartment pricing data
        const apartmentPricing = {
            "0": {
                "1": 160, "1.5": 180, "2": 200, "2.5": 220, "3": 240, "3.5": 260, "4": 280, "4.5": 300
            },
            "1": {
                "1": 170, "1.5": 190, "2": 210, "2.5": 230, "3": 250, "3.5": 270, "4": 290, "4.5": 310
            },
            "2": {
                "1": 180, "1.5": 210, "2": 230, "2.5": 250, "3": 270, "3.5": 290, "4": 310, "4.5": 330
            },
            "3": {
                "1": 190, "1.5": 240, "2": 260, "2.5": 280, "3": 290, "3.5": 310, "4": 330, "4.5": 350
            },
            "4": {
                "1": 240, "1.5": 260, "2": 280, "2.5": 300, "3": 330, "3.5": 350, "4": 370, "4.5": 390
            }
        };

        // House pricing data based on square footage
        const housePricing = [
            { min: 1750, max: 2000, price: 240 },
            { min: 2000, max: 2250, price: 290 },
            { min: 2250, max: 2500, price: 340 },
            { min: 2500, max: 2750, price: 390 },
            { min: 2750, max: 3000, price: 440 },
            { min: 3000, max: 3250, price: 490 },
            { min: 3250, max: 3500, price: 540 },
            { min: 3500, max: 3750, price: 590 },
            { min: 3750, max: 4000, price: 640 },
            { min: 4000, max: 4250, price: 690 },
            { min: 4250, max: 4500, price: 740 },
            { min: 4500, max: 4750, price: 790 },
            { min: 4750, max: 5000, price: 840 },
            { min: 5000, max: 5250, price: 890 },
            { min: 5250, max: 5500, price: 940 },
            { min: 5500, max: 5750, price: 990 },
            { min: 5750, max: 6000, price: 1040 }
        ];

        // Add-on pricing
        const addons = {
            "addon-balcony": { price: 60, label: "Balcony Cleaning" },
            "addon-baseboards": { price: 60, label: "Baseboards" },
            "addon-dishes": { price: 60, label: "Dishes" },
            "addon-doors": { price: 60, label: "Doors, Frames, Knobs" },
            "addon-empty-fridge": { price: 60, label: "Fridge (Empty)" },
            "addon-occupied-fridge": { price: 100, label: "Fridge (Occupied)" },
            "addon-oven": { price: 60, label: "Inside Oven" },
            "addon-empty-cabinets": { price: 75, label: "Cabinets + Drawers (Empty)" },
            "addon-occupied-cabinets": { price: 125, label: "Cabinets + Drawers (Occupied)" },
            "addon-garage": { price: 250, label: "Garage Cleaning" },
            "addon-patio": { price: 200, label: "Patio Cleaning" },
            "addon-pet-hair": { price: 50, label: "Pet Hair Removal" },
            "addon-heavy-duty": { price: 150, label: "Heavy Duty" }
        };

        const quantityAddons = {
            "addon-walls-qty": { price: 50, label: "Walls", checkbox: "addon-walls" },
            "addon-blinds-qty": { price: 50, label: "Blinds", checkbox: "addon-blinds" },
            "addon-closets-qty": { price: 50, label: "Inside Closets", checkbox: "addon-closets" }
        };

        // Move out clean recommended add-ons
        const moveOutAddons = [
            "addon-oven",
            "addon-empty-fridge",
            "addon-empty-cabinets",
            "addon-baseboards",
            "addon-doors",
            "addon-closets"
        ];

        // Sample address data for autocomplete
        const sampleAddresses = [
            "123 Main St, Seattle, WA 98101",
            "456 Pine Ave, Seattle, WA 98101",
            "789 Oak Blvd, Seattle, WA 98102",
            "101 Elm St, Seattle, WA 98103",
            "202 Cedar Rd, Seattle, WA 98104",
            "303 Maple Dr, Seattle, WA 98105",
            "404 Birch Ln, Seattle, WA 98106",
            "505 Spruce Way, Seattle, WA 98107",
            "606 Willow Ct, Seattle, WA 98108",
            "707 Ash St, Seattle, WA 98109"
        ];

        // Global state
        let state = {
            serviceType: "residential",
            propertyType: "apartment",
            bedrooms: 1,
            bathrooms: 1,
            houseBedrooms: 3,
            houseBathrooms: 2,
            squareFootage: 2000,
            frequency: "once-deep",
            frequencyModifier: 75,
            deepCleanApartmentFee: 75,
            deepCleanHouseFee: 100,
            addons: {},
            shortTermDescription: "",
            postConstructionHours: 4,
            commercialHours: 4,
            moveOutClean: false,
            serviceDate: "",
            arrivalWindow: ""
        };

        // DOM elements
        const serviceButtons = document.querySelectorAll('.btn-service');
        const propertyButtons = document.querySelectorAll('.btn-option');
        const bedroomsSlider = document.getElementById('bedrooms');
        const bedroomsValue = document.getElementById('bedroom-value');
        const bathroomsSlider = document.getElementById('bathrooms');
        const bathroomsValue = document.getElementById('bathroom-value');
        const houseBedroomsSlider = document.getElementById('house-bedrooms');
        const houseBedroomsValue = document.getElementById('house-bedroom-value');
        const houseBathroomsSlider = document.getElementById('house-bathrooms');
        const houseBathroomsValue = document.getElementById('house-bathroom-value');
        const squareFootageSlider = document.getElementById('square-footage');
        const squareFootageValue = document.getElementById('sqft-value');
        const frequencyButtons = document.querySelectorAll('.frequency-btn');
        const addonCheckboxes = document.querySelectorAll('.addon-checkbox');
        const quantityInputs = document.querySelectorAll('#addon-walls-qty, #addon-blinds-qty, #addon-closets-qty');
        const postConstructionHours = document.getElementById('post-construction-hours');
        const commercialHours = document.getElementById('commercial-hours');
        const shortTermDescription = document.getElementById('short-term-description');
        const contactForm = document.getElementById('contact-form');
        const moveOutCleanCheckbox = document.getElementById('move-out-clean');
        const serviceDateInput = document.getElementById('service-date');
        const arrivalWindowSelect = document.getElementById('arrival-window');
        const closetsQtyInput = document.getElementById('addon-closets-qty');
        const addressInput = document.getElementById('address');
        const addressAutocomplete = document.getElementById('address-autocomplete');
        const deepCleanButton = document.getElementById('once-deep');

        // Set minimum date to today
        const today = new Date();
        const todayFormatted = today.toISOString().split('T')[0];
        serviceDateInput.min = todayFormatted;
        
        // Update Deep Clean button text based on property type
        function updateDeepCleanButtonText() {
            if (state.propertyType === 'apartment') {
                deepCleanButton.textContent = 'Once (Deep Clean) +75';
            } else {
                deepCleanButton.textContent = 'Once (Deep Clean) +100';
            }
        }
        
        // Service type selection
        serviceButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove selected class from all buttons
                serviceButtons.forEach(btn => btn.classList.remove('selected'));
                // Add selected class to clicked button
                button.classList.add('selected');
                
                // Update state
                state.serviceType = button.id;
                
                // Show/hide appropriate sections
                document.getElementById('residential-options').style.display = state.serviceType === 'residential' ? 'block' : 'none';
                document.getElementById('apartment-details').style.display = state.serviceType === 'residential' && state.propertyType === 'apartment' ? 'block' : 'none';
                document.getElementById('house-details').style.display = state.serviceType === 'residential' && state.propertyType === 'house' ? 'block' : 'none';
                document.getElementById('short-term-details').style.display = state.serviceType === 'short-term' ? 'block' : 'none';
                document.getElementById('post-construction-details').style.display = state.serviceType === 'post-construction' ? 'block' : 'none';
                document.getElementById('commercial-details').style.display = state.serviceType === 'commercial' ? 'block' : 'none';
                document.getElementById('addons-section').style.display = state.serviceType === 'residential' ? 'block' : 'none';
                document.getElementById('frequency-section').style.display = state.serviceType === 'residential' ? 'block' : 'none';
                
                updateSummary();
            });
        });

        // Property type selection
        propertyButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove selected class from all buttons
                propertyButtons.forEach(btn => btn.classList.remove('selected'));
                // Add selected class to clicked button
                button.classList.add('selected');
                
                // Update state
                state.propertyType = button.id;
                
                // Show/hide appropriate sections
                document.getElementById('apartment-details').style.display = state.propertyType === 'apartment' ? 'block' : 'none';
                document.getElementById('house-details').style.display = state.propertyType === 'house' ? 'block' : 'none';
                
                // If move-out clean is checked, update closets quantity
                if (state.moveOutClean) {
                    updateClosetsForMoveOut();
                }
                
                // Update deep clean fee based on property type
                if (state.frequency === 'once-deep') {
                    state.frequencyModifier = state.propertyType === 'apartment' ? state.deepCleanApartmentFee : state.deepCleanHouseFee;
                }
                
                // Update the Deep Clean button text
                updateDeepCleanButtonText();
                
                updateSummary();
            });
        });

        // Bedrooms slider
        bedroomsSlider.addEventListener('input', () => {
            state.bedrooms = parseInt(bedroomsSlider.value);
            bedroomsValue.textContent = state.bedrooms === 0 ? "Studio" : state.bedrooms;
            
            // If move-out clean is checked, update closets quantity
            if (state.moveOutClean) {
                updateClosetsForMoveOut();
            }
            
            updateSummary();
        });

        // Bathrooms slider
        bathroomsSlider.addEventListener('input', () => {
            state.bathrooms = parseFloat(bathroomsSlider.value);
            bathroomsValue.textContent = state.bathrooms;
            updateSummary();
        });

        // House Bedrooms slider
        houseBedroomsSlider.addEventListener('input', () => {
            state.houseBedrooms = parseInt(houseBedroomsSlider.value);
            houseBedroomsValue.textContent = state.houseBedrooms;
            
            // If move-out clean is checked, update closets quantity
            if (state.moveOutClean) {
                updateClosetsForMoveOut();
            }
            
            updateSummary();
        });

        // House Bathrooms slider
        houseBathroomsSlider.addEventListener('input', () => {
            state.houseBathrooms = parseFloat(houseBathroomsSlider.value);
            houseBathroomsValue.textContent = state.houseBathrooms;
            updateSummary();
        });

        // Square footage slider
        squareFootageSlider.addEventListener('input', () => {
            state.squareFootage = parseInt(squareFootageSlider.value);
            squareFootageValue.textContent = state.squareFootage;
            updateSummary();
        });

        // Frequency selection
        frequencyButtons.forEach(button => {
            button.addEventListener('click', () => {
                // If move-out clean is checked, don't allow changing from deep clean
                if (state.moveOutClean && button.dataset.value !== 'once-deep') {
                    return;
                }
                
                // Remove selected class from all buttons
                frequencyButtons.forEach(btn => btn.classList.remove('selected'));
                // Add selected class to clicked button
                button.classList.add('selected');
                
                // Update state
                state.frequency = button.dataset.value;
                
                // Set frequency modifier based on property type for deep clean
                if (button.dataset.value === 'once-deep') {
                    state.frequencyModifier = state.propertyType === 'apartment' ? state.deepCleanApartmentFee : state.deepCleanHouseFee;
                } else {
                    state.frequencyModifier = parseFloat(button.dataset.modifier);
                }
                
                updateSummary();
            });
        });

        // Add-on checkboxes
        addonCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                if (checkbox.checked) {
                    state.addons[checkbox.id] = addons[checkbox.id] || { price: 0, label: "" };
                    
                    // If this is a quantity addon, update the quantity
                    for (const [qtyId, qtyAddon] of Object.entries(quantityAddons)) {
                        if (qtyAddon.checkbox === checkbox.id) {
                            const qtyInput = document.getElementById(qtyId);
                            if (qtyInput && parseInt(qtyInput.value) > 0) {
                                state.addons[checkbox.id] = {
                                    price: qtyAddon.price,
                                    label: qtyAddon.label,
                                    quantity: parseInt(qtyInput.value)
                                };
                            } else if (qtyInput) {
                                qtyInput.value = 1;
                                state.addons[checkbox.id] = {
                                    price: qtyAddon.price,
                                    label: qtyAddon.label,
                                    quantity: 1
                                };
                            }
                        }
                    }
                } else {
                    delete state.addons[checkbox.id];
                    
                    // If this is a quantity addon, reset the quantity input
                    for (const [qtyId, qtyAddon] of Object.entries(quantityAddons)) {
                        if (qtyAddon.checkbox === checkbox.id) {
                            const qtyInput = document.getElementById(qtyId);
                            if (qtyInput) {
                                qtyInput.value = 0;
                            }
                        }
                    }
                }
                updateSummary();
            });
        });

        // Quantity add-ons
        quantityInputs.forEach(input => {
            input.addEventListener('input', () => {
                const id = input.id;
                const quantity = parseInt(input.value) || 0;
                const checkboxId = quantityAddons[id].checkbox;
                const checkbox = document.getElementById(checkboxId);
                
                if (quantity > 0) {
                    // Auto-check the checkbox if quantity > 0
                    checkbox.checked = true;
                    
                    state.addons[checkboxId] = {
                        price: quantityAddons[id].price,
                        label: quantityAddons[id].label,
                        quantity: quantity
                    };
                } else {
                    checkbox.checked = false;
                    delete state.addons[checkboxId];
                }
                
                updateSummary();
            });
        });

        // Post-construction hours
        postConstructionHours.addEventListener('input', () => {
            state.postConstructionHours = parseInt(postConstructionHours.value) || 1;
            document.getElementById('post-construction-total').textContent = (state.postConstructionHours * 90).toFixed(2);
            updateSummary();
        });

        // Commercial hours
        commercialHours.addEventListener('input', () => {
            state.commercialHours = parseInt(commercialHours.value) || 1;
            document.getElementById('commercial-total').textContent = (state.commercialHours * 80).toFixed(2);
            updateSummary();
        });

        // Short-term rental description
        shortTermDescription.addEventListener('input', () => {
            state.shortTermDescription = shortTermDescription.value;
        });

        // Service date
        serviceDateInput.addEventListener('change', () => {
            state.serviceDate = serviceDateInput.value;
        });

        // Arrival window
        arrivalWindowSelect.addEventListener('change', () => {
            state.arrivalWindow = arrivalWindowSelect.value;
        });

        // Address autocomplete
        addressInput.addEventListener('input', function() {
            const input = this.value.toLowerCase();
            
            // Clear previous results
            addressAutocomplete.innerHTML = '';
            
            if (input.length < 3) {
                addressAutocomplete.classList.add('hidden');
                return;
            }
            
            // Filter addresses that match the input
            const matches = sampleAddresses.filter(address => 
                address.toLowerCase().includes(input)
            );
            
            if (matches.length > 0) {
                addressAutocomplete.classList.remove('hidden');
                
                // Create a div for each matching address
                matches.forEach(address => {
                    const div = document.createElement('div');
                    div.textContent = address;
                    div.addEventListener('click', function() {
                        addressInput.value = address;
                        addressAutocomplete.classList.add('hidden');
                    });
                    addressAutocomplete.appendChild(div);
                });
            } else {
                addressAutocomplete.classList.add('hidden');
            }
        });
        
        // Hide autocomplete when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target !== addressInput && e.target !== addressAutocomplete) {
                addressAutocomplete.classList.add('hidden');
            }
        });

        // Function to update closets quantity based on bedrooms for move-out clean
        function updateClosetsForMoveOut() {
            if (state.moveOutClean) {
                const bedroomCount = state.propertyType === 'apartment' ? state.bedrooms : state.houseBedrooms;
                // For studio apartments (bedrooms = 0), set closets to 1
                const closetsCount = bedroomCount === 0 ? 1 : bedroomCount;
                
                closetsQtyInput.value = closetsCount;
                
                // Update state
                const checkbox = document.getElementById('addon-closets');
                checkbox.checked = true;
                
                state.addons['addon-closets'] = {
                    price: quantityAddons['addon-closets-qty'].price,
                    label: quantityAddons['addon-closets-qty'].label,
                    quantity: closetsCount
                };
            }
        }

        // Move Out Clean checkbox
        moveOutCleanCheckbox.addEventListener('change', () => {
            state.moveOutClean = moveOutCleanCheckbox.checked;
            
            if (state.moveOutClean) {
                // Select Once (Deep) frequency
                frequencyButtons.forEach(btn => {
                    if (btn.dataset.value === 'once-deep') {
                        btn.click();
                    }
                });
                
                // Select recommended add-ons
                moveOutAddons.forEach(addonId => {
                    const checkbox = document.getElementById(addonId);
                    if (checkbox) {
                        checkbox.checked = true;
                        state.addons[addonId] = addons[addonId];
                    }
                });
                
                // Update closets quantity based on bedrooms
                updateClosetsForMoveOut();
            }
            
            updateSummary();
        });

        // Contact form submission
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Validate arrival window is selected
            if (!arrivalWindowSelect.value) {
                alert("Please select a preferred arrival window.");
                arrivalWindowSelect.focus();
                return;
            }
            
            // Validate service date is selected
            if (!serviceDateInput.value) {
                alert("Please select a preferred service date.");
                serviceDateInput.focus();
                return;
            }
            
            // Get form data
            const formData = new FormData(contactForm);
            const name = formData.get('full-name');
            const phone = formData.get('phone');
            const email = formData.get('email');
            const address = formData.get('address');
            const parking = formData.get('parking');
            const payment = formData.get('payment');
            const comments = formData.get('comments');
            const serviceDate = formData.get('service-date');
            const arrivalWindow = formData.get('arrival-window');
            
            // Calculate total price
            const basePrice = calculateBasePrice();
            const addonsPrice = calculateAddonsPrice();
            const subtotal = basePrice + addonsPrice;
            const frequencyAdjustment = calculateFrequencyAdjustment(subtotal);
            const total = subtotal + frequencyAdjustment;
            
            // Create email body
            let emailBody = `mailto:sparklinghousemaidsnyc@gmail.com?subject=Cleaning Request - ${name}&body=`;
            
            emailBody += encodeURIComponent(`
Name: ${name}
Phone: ${phone}
Email: ${email}
Address: ${address}
Parking: ${parking}
Preferred Service Date: ${serviceDate}
Preferred Arrival Window: ${arrivalWindow}
Payment Method: ${payment}

Service Details:
${getServiceDetails()}

Quote Summary:
Base Price: ${basePrice.toFixed(2)}
Add-Ons: ${addonsPrice.toFixed(2)}
Subtotal: ${subtotal.toFixed(2)}
${getFrequencyText()}
Total: ${total.toFixed(2)}

Additional Comments:
${comments}
            `);
            
            // Open email client
            window.location.href = emailBody;
        });

        // Helper functions
        function calculateBasePrice() {
            if (state.serviceType === 'residential') {
                if (state.propertyType === 'apartment') {
                    return apartmentPricing[state.bedrooms][state.bathrooms] || 170;
                } else {
                    // Find the appropriate price range for the square footage
                    for (const range of housePricing) {
                        if (state.squareFootage >= range.min && state.squareFootage < range.max) {
                            return range.price;
                        }
                    }
                    // If square footage is at the upper limit
                    if (state.squareFootage >= 6000) {
                        return 1040;
                    }
                    return 240; // Default
                }
            } else if (state.serviceType === 'post-construction') {
                return state.postConstructionHours * 90;
            } else if (state.serviceType === 'commercial') {
                return state.commercialHours * 80;
            } else {
                return 0; // Short-term rental (custom quote)
            }
        }

        function calculateAddonsPrice() {
            let total = 0;
            
            for (const [id, addon] of Object.entries(state.addons)) {
                if (addon.quantity) {
                    total += addon.price * addon.quantity;
                } else {
                    total += addon.price;
                }
            }
            
            return total;
        }

        function calculateFrequencyAdjustment(subtotal) {
            if (state.serviceType !== 'residential') return 0;
            
            if (state.frequencyModifier > 0) {
                return state.frequencyModifier; // For deep cleaning, add flat fee
            } else {
                return subtotal * state.frequencyModifier; // For discounts, apply percentage to subtotal
            }
        }

        function getFrequencyText() {
            if (state.serviceType !== 'residential') return '';
            
            if (state.frequency === 'once-deep') {
                const fee = state.propertyType === 'apartment' ? state.deepCleanApartmentFee : state.deepCleanHouseFee;
                return `Deep Cleaning: +${fee.toFixed(2)}`;
            } else if (state.frequency === 'once-light') {
                return 'Frequency: Once (Light Clean)';
            } else {
                const discount = Math.abs(state.frequencyModifier * 100);
                return `Returning Discount: ${discount}% off`;
            }
        }

        function getServiceDetails() {
            if (state.serviceType === 'residential') {
                if (state.propertyType === 'apartment') {
                    const bedroomText = state.bedrooms === 0 ? "Studio" : `${state.bedrooms} bedroom(s)`;
                    return `Residential - Apartment/Condo\n${bedroomText}, ${state.bathrooms} bathroom(s)`;
                } else {
                    return `Residential - Single-Family Home\n${state.squareFootage} sq ft, ${state.houseBedrooms} bedroom(s), ${state.houseBathrooms} bathroom(s)`;
                }
            } else if (state.serviceType === 'short-term') {
                return `Short-Term Rental\nDescription: ${state.shortTermDescription}`;
            } else if (state.serviceType === 'post-construction') {
                return `Post-Construction Cleaning\n${state.postConstructionHours} hours at 90/hour`;
            } else {
                return `Commercial Cleaning\n${state.commercialHours} hours at 80/hour`;
            }
        }

        function updateSummary() {
            // Update service type in summary
            let serviceTypeText = '';
            if (state.serviceType === 'residential') {
                serviceTypeText = `Residential - ${state.propertyType === 'apartment' ? 'Apartment/Condo' : 'Single-Family Home'}`;
            } else if (state.serviceType === 'short-term') {
                serviceTypeText = 'Short-Term Rental';
            } else if (state.serviceType === 'post-construction') {
                serviceTypeText = 'Post-Construction';
            } else {
                serviceTypeText = 'Commercial';
            }
            document.getElementById('summary-service-type').textContent = serviceTypeText;
            
            // Update details in summary
            const detailsElement = document.getElementById('summary-details');
            if (state.serviceType === 'residential') {
                if (state.propertyType === 'apartment') {
                    const bedroomText = state.bedrooms === 0 ? "Studio" : `${state.bedrooms} bedroom${state.bedrooms !== 1 ? 's' : ''}`;
                    detailsElement.innerHTML = `<span>Details:</span><span class="font-medium">${bedroomText}, ${state.bathrooms} bathroom${state.bathrooms !== 1 ? 's' : ''}</span>`;
                } else {
                    detailsElement.innerHTML = `<span>Details:</span><span class="font-medium">${state.squareFootage} sq ft, ${state.houseBedrooms} bed, ${state.houseBathrooms} bath</span>`;
                }
                detailsElement.style.display = 'flex';
            } else if (state.serviceType === 'short-term') {
                detailsElement.innerHTML = `<span>Details:</span><span class="font-medium">Custom Quote</span>`;
                detailsElement.style.display = 'flex';
            } else if (state.serviceType === 'post-construction') {
                detailsElement.innerHTML = `<span>Details:</span><span class="font-medium">${state.postConstructionHours} hours at 90/hour</span>`;
                detailsElement.style.display = 'flex';
            } else {
                detailsElement.innerHTML = `<span>Details:</span><span class="font-medium">${state.commercialHours} hours at 80/hour</span>`;
                detailsElement.style.display = 'flex';
            }
            
            // Update frequency in summary
            const frequencyElement = document.getElementById('summary-frequency');
            if (state.serviceType === 'residential') {
                let frequencyText = '';
                if (state.frequency === 'once-deep') {
                    frequencyText = 'Once (Deep Clean)';
                } else if (state.frequency === 'once-light') {
                    frequencyText = 'Once (Light Clean)';
                } else if (state.frequency === 'weekly') {
                    frequencyText = 'Weekly (15% off)';
                } else if (state.frequency === 'biweekly') {
                    frequencyText = 'Every 2 weeks (10% off)';
                } else if (state.frequency === 'triweekly') {
                    frequencyText = 'Every 3 weeks (7% off)';
                } else {
                    frequencyText = 'Every 4 weeks (5% off)';
                }
                frequencyElement.innerHTML = `<span>Frequency:</span><span class="font-medium">${frequencyText}</span>`;
                frequencyElement.style.display = 'flex';
            } else {
                frequencyElement.style.display = 'none';
            }
            
            // Update add-ons in summary
            const addonsElement = document.getElementById('summary-addons');
            const addonsSectionElement = document.getElementById('summary-addons-section');
            
            if (state.serviceType === 'residential' && Object.keys(state.addons).length > 0) {
                let addonsList = '';
                
                for (const [id, addon] of Object.entries(state.addons)) {
                    if (addon.quantity) {
                        addonsList += `<li>${addon.label} (${addon.quantity}) - ${(addon.price * addon.quantity).toFixed(2)}</li>`;
                    } else {
                        addonsList += `<li>${addon.label} - ${addon.price.toFixed(2)}</li>`;
                    }
                }
                
                addonsElement.innerHTML = addonsList;
                addonsSectionElement.style.display = 'block';
            } else {
                addonsElement.innerHTML = `<li class="text-gray-500 italic">No add-ons selected</li>`;
                addonsSectionElement.style.display = state.serviceType === 'residential' ? 'block' : 'none';
            }
            
            // Calculate prices
            const basePrice = calculateBasePrice();
            const addonsPrice = calculateAddonsPrice();
            const subtotal = basePrice + addonsPrice;
            const frequencyAdjustment = calculateFrequencyAdjustment(subtotal);
            const total = subtotal + frequencyAdjustment;
            
            // Update price in summary
            document.getElementById('summary-base-price').textContent = `${basePrice.toFixed(2)}`;
            
            // Update add-ons price
            const addonsPriceElement = document.getElementById('summary-addons-price');
            addonsPriceElement.innerHTML = `<span>Add-Ons:</span><span>${addonsPrice.toFixed(2)}</span>`;
            addonsPriceElement.style.display = state.serviceType === 'residential' ? 'flex' : 'none';
            
            // Update subtotal
            const subtotalElement = document.getElementById('summary-subtotal');
            subtotalElement.innerHTML = `<span>Subtotal:</span><span>${subtotal.toFixed(2)}</span>`;
            
            // Update frequency adjustment
            const frequencyAdjustmentElement = document.getElementById('summary-frequency-adjustment');
            if (state.serviceType === 'residential') {
                if (state.frequency === 'once-deep') {
                    const fee = state.propertyType === 'apartment' ? state.deepCleanApartmentFee : state.deepCleanHouseFee;
                    frequencyAdjustmentElement.innerHTML = `<span>Deep Cleaning:</span><span>+${fee.toFixed(2)}</span>`;
                } else if (state.frequency === 'once-light') {
                    frequencyAdjustmentElement.innerHTML = `<span>Frequency Adjustment:</span><span>0.00</span>`;
                } else {
                    const discount = Math.abs(frequencyAdjustment).toFixed(2);
                    frequencyAdjustmentElement.innerHTML = `<span>Returning Discount:</span><span>-${discount}</span>`;
                }
                frequencyAdjustmentElement.style.display = 'flex';
            } else {
                frequencyAdjustmentElement.style.display = 'none';
            }
            
            // Update total
            document.getElementById('summary-total').textContent = `${total.toFixed(2)}`;
        }

        // Initialize the page
        updateDeepCleanButtonText();
        updateSummary();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'980dbcff328711fd',t:'MTc1ODE2NTk0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
